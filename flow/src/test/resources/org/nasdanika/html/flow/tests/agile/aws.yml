flow-package:
  uri: nasdanika://agile/aws
  description: AWS agile development.
  extends: "../../../../../../../../target/model-doc/instances/core.xml#/" # Loading previously generated instance model.
  name: AWS Development
  artifacts:
    aws:
      name: AWS
      description: Amazon Web Services
      partition: true
      representations:
        component: 
          type: "drawio:../../../src/test/resources/org/nasdanika/html/flow/tests/agile/aws.drawio"
        grouped:
          description: Generated component diagram with depth 1.              
          depth: 1
        generated: 
          type: "drawio"
          description: Generated drawio diagram
      children:
        cloud:
          name: AWS Cloud
          partition: true
          children:
            s3-bucket:
              name: Amazon S3 Bucket
              relationships:
                pipeline: code-pipeline
            code-pipeline:
              name: AWS CodePipeline
              relationships:
                organizations: organizations
                account-baseline: account-baseline
                service-catalog: service-catalog
                parameter-store: parameter-store
            organizations:
              name: AWS Organizations
              relationships:
                core-ou: core-ou
                sso: sso
            sso:
              name: AWS Single Sign-on
            account-baseline:
              name: Account Baseline
              templates: ../../account-baseline-template
            service-catalog:
              name: AWS Service Catalog
              properties:
                representation:
                  drawio:
                    width: 150
                    height: 200
                    style:
                      shape: note
            parameter-store:
              name: AWS Parameter Store
            core-ou:
              name: Core OU
              representations:
                context:
                  description: Context diagram.
                  context: 1    
                  depth: 0          
              relationships:
                shared-services-account: ../../shared-services-account
                log-archive-account: ../../log-archive-account
                security-account: ../../security-account
          representations:
            component:
              description: Component diagram.              
            generated: 
              type: "drawio"
              name: AWS Cloud Components
              description: Generated diagram
            manual: 
              type: "drawio:aws/cloud-components.drawio"
              name: AWS Cloud Components
              description: Generated and then manually edited diagram
        shared-services-account:
          partition: true
          name: Shared Services Account
          children:
            account-baseline:
              name: Account Baseline
              templates: ../../account-baseline-template
            vpc:
              name: Amazon VPC
        log-archive-account:
          partition: true
          name: Log Archive Account
          children:
            account-baseline:
              name: Account Baseline
              templates: ../../account-baseline-template
            logs:
              name: Aggregate CloudTrail and Config Logs
        security-account:
          partition: true
          name: Security Account
          children:
            account-baseline:
              name: Account Baseline
              templates: ../../account-baseline-template
            roles:
              name: Security Cross-Account Roles
            guard-duty:
              name: Amazon GuardDuty
            sns:
              name: Amazon SNS
        account-baseline-template:
          name: Account Baseline Template
          description: A template for account baselines.
        